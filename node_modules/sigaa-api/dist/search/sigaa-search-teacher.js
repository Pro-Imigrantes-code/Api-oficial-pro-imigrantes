"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SigaaSearchTeacher = void 0;

require("source-map-support/register");

var _sigaaSearchTeacherResult = require("./sigaa-search-teacher-result");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * @category Public
 */
class SigaaSearchTeacher {
  constructor(http, parser) {
    this.http = http;
    this.parser = parser;

    _defineProperty(this, "page", null);
  }

  async loadSearchPage() {
    if (!this.page) {
      this.page = await this.http.get('/sigaa/public/docente/busca_docentes.jsf');
    }
  }

  async getCampusList() {
    await this.loadSearchPage();
    const page = this.page;
    const campusOptionElements = page.$('select#form\\:departamento > option').toArray();
    const list = [];

    for (const campusOptionElement of campusOptionElements) {
      list.push({
        name: this.parser.removeTagsHtml(page.$(campusOptionElement).html()),
        value: this.parser.removeTagsHtml(page.$(campusOptionElement).val())
      });
    }

    return list;
  }

  async search(teacherName, campus) {
    await this.loadSearchPage();
    const page = this.page;
    let campusValue;

    if (!campus) {
      campusValue = '0';
    } else {
      campusValue = campus.value;
    }

    const formElement = page.$('form[name="form"]');
    const action = formElement.attr('action');
    if (!action) throw new Error('SIGAA: Form with action at teacher search page.');
    const url = new URL(action, page.url);
    const postValues = {};
    const inputs = formElement.find("input[name]:not([type='submit'])").toArray();

    for (const input of inputs) {
      const name = page.$(input).attr('name');
      if (name) postValues[name] = page.$(input).val();
    }

    postValues['form:nome'] = teacherName;
    postValues['form:departamento'] = campusValue;
    postValues['form:buscar'] = 'Buscar';
    return this.http.post(url.href, postValues).then(page => this.parseSearchResults(page));
  }

  async parseSearchResults(page) {
    const rowElements = page.$('table.listagem > tbody > tr[class]').toArray();
    const results = [];

    for (const rowElement of rowElements) {
      const name = this.parser.removeTagsHtml(page.$(rowElement).find('span.nome').html());
      const department = this.parser.removeTagsHtml(page.$(rowElement).find('span.departamento').html());
      const pageHREF = this.parser.removeTagsHtml(page.$(rowElement).find('span.pagina > a').attr('href'));
      const photoHREF = this.parser.removeTagsHtml(page.$(rowElement).find('img').attr('src'));
      const pageURL = new URL(pageHREF, page.url);
      const photoURL = photoHREF.includes('no_picture.png') ? undefined : new URL(photoHREF, page.url);
      results.push(new _sigaaSearchTeacherResult.SigaaSearchTeacherResult(this.http, this.parser, {
        name,
        department,
        pageURL,
        photoURL
      }));
    }

    return results;
  }

}

exports.SigaaSearchTeacher = SigaaSearchTeacher;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZWFyY2gvc2lnYWEtc2VhcmNoLXRlYWNoZXIudHMiXSwibmFtZXMiOlsiU2lnYWFTZWFyY2hUZWFjaGVyIiwiY29uc3RydWN0b3IiLCJodHRwIiwicGFyc2VyIiwibG9hZFNlYXJjaFBhZ2UiLCJwYWdlIiwiZ2V0IiwiZ2V0Q2FtcHVzTGlzdCIsImNhbXB1c09wdGlvbkVsZW1lbnRzIiwiJCIsInRvQXJyYXkiLCJsaXN0IiwiY2FtcHVzT3B0aW9uRWxlbWVudCIsInB1c2giLCJuYW1lIiwicmVtb3ZlVGFnc0h0bWwiLCJodG1sIiwidmFsdWUiLCJ2YWwiLCJzZWFyY2giLCJ0ZWFjaGVyTmFtZSIsImNhbXB1cyIsImNhbXB1c1ZhbHVlIiwiZm9ybUVsZW1lbnQiLCJhY3Rpb24iLCJhdHRyIiwiRXJyb3IiLCJ1cmwiLCJVUkwiLCJwb3N0VmFsdWVzIiwiaW5wdXRzIiwiZmluZCIsImlucHV0IiwicG9zdCIsImhyZWYiLCJ0aGVuIiwicGFyc2VTZWFyY2hSZXN1bHRzIiwicm93RWxlbWVudHMiLCJyZXN1bHRzIiwicm93RWxlbWVudCIsImRlcGFydG1lbnQiLCJwYWdlSFJFRiIsInBob3RvSFJFRiIsInBhZ2VVUkwiLCJwaG90b1VSTCIsImluY2x1ZGVzIiwidW5kZWZpbmVkIiwiU2lnYWFTZWFyY2hUZWFjaGVyUmVzdWx0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFHQTs7OztBQWFBO0FBQ0E7QUFDQTtBQUNPLE1BQU1BLGtCQUFOLENBQXlCO0FBRzlCQyxFQUFBQSxXQUFXLENBQVNDLElBQVQsRUFBNkJDLE1BQTdCLEVBQTZDO0FBQUEsU0FBcENELElBQW9DLEdBQXBDQSxJQUFvQztBQUFBLFNBQWhCQyxNQUFnQixHQUFoQkEsTUFBZ0I7O0FBQUEsa0NBRnBDLElBRW9DO0FBQUU7O0FBRXRDLFFBQWRDLGNBQWMsR0FBa0I7QUFDcEMsUUFBSSxDQUFDLEtBQUtDLElBQVYsRUFBZ0I7QUFDZCxXQUFLQSxJQUFMLEdBQVksTUFBTSxLQUFL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QUptRCxPQUFyRCxDQURGO0FBUUQ7O0FBQ0QsV0FBT04sT0FBUDtBQUNEOztBQTdGNkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYXJzZXIgfSBmcm9tICdAaGVscGVycy9zaWdhYS1wYXJzZXInO1xuaW1wb3J0IHsgSFRUUCB9IGZyb20gJ0BzZXNzaW9uL3NpZ2FhLWh0dHAnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ0BzZXNzaW9uL3NpZ2FhLXBhZ2UnO1xuaW1wb3J0IHtcbiAgVGVhY2hlclJlc3VsdCxcbiAgU2lnYWFTZWFyY2hUZWFjaGVyUmVzdWx0XG59IGZyb20gJy4vc2lnYWEtc2VhcmNoLXRlYWNoZXItcmVzdWx0JztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgUHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FtcHVzIHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBQdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIFNpZ2FhU2VhcmNoVGVhY2hlciB7XG4gIHBhZ2U6IFBhZ2UgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEhUVFAsIHByaXZhdGUgcGFyc2VyOiBQYXJzZXIpIHt9XG5cbiAgYXN5bmMgbG9hZFNlYXJjaFBhZ2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLnBhZ2UpIHtcbiAgICAgIHRoaXMucGFnZSA9IGF3YWl0IHRoaXMuaHR0cC5nZXQoXG4gICAgICAgICcvc2lnYWEvcHVibGljL2RvY2VudGUvYnVzY2FfZG9jZW50ZXMuanNmJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRDYW1wdXNMaXN0KCk6IFByb21pc2U8Q2FtcHVzW10+IHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZWFyY2hQYWdlKCk7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMucGFnZSBhcyBQYWdlO1xuICAgIGNvbnN0IGNhbXB1c09wdGlvbkVsZW1lbnRzID0gcGFnZVxuICAgICAgLiQoJ3NlbGVjdCNmb3JtXFxcXDpkZXBhcnRhbWVudG8gPiBvcHRpb24nKVxuICAgICAgLnRvQXJyYXkoKTtcbiAgICBjb25zdCBsaXN0ID0gW107XG4gICAgZm9yIChjb25zdCBjYW1wdXNPcHRpb25FbGVtZW50IG9mIGNhbXB1c09wdGlvbkVsZW1lbnRzKSB7XG4gICAgICBsaXN0LnB1c2goe1xuICAgICAgICBuYW1lOiB0aGlzLnBhcnNlci5yZW1vdmVUYWdzSHRtbChwYWdlLiQoY2FtcHVzT3B0aW9uRWxlbWVudCkuaHRtbCgpKSxcbiAgICAgICAgdmFsdWU6IHRoaXMucGFyc2VyLnJlbW92ZVRhZ3NIdG1sKHBhZ2UuJChjYW1wdXNPcHRpb25FbGVtZW50KS52YWwoKSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbiAgfVxuXG4gIGFzeW5jIHNlYXJjaCh0ZWFjaGVyTmFtZTogc3RyaW5nLCBjYW1wdXM/OiBDYW1wdXMpOiBQcm9taXNlPFRlYWNoZXJSZXN1bHRbXT4ge1xuICAgIGF3YWl0IHRoaXMubG9hZFNlYXJjaFBhZ2UoKTtcbiAgICBjb25zdCBwYWdlID0gdGhpcy5wYWdlIGFzIFBhZ2U7XG5cbiAgICBsZXQgY2FtcHVzVmFsdWU7XG4gICAgaWYgKCFjYW1wdXMpIHtcbiAgICAgIGNhbXB1c1ZhbHVlID0gJzAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW1wdXNWYWx1ZSA9IGNhbXB1cy52YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgZm9ybUVsZW1lbnQgPSBwYWdlLiQoJ2Zvcm1bbmFtZT1cImZvcm1cIl0nKTtcbiAgICBjb25zdCBhY3Rpb24gPSBmb3JtRWxlbWVudC5hdHRyKCdhY3Rpb24nKTtcbiAgICBpZiAoIWFjdGlvbilcbiAgICAgIHRocm93IG5ldyBFcnJvcignU0lHQUE6IEZvcm0gd2l0aCBhY3Rpb24gYXQgdGVhY2hlciBzZWFyY2ggcGFnZS4nKTtcblxuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoYWN0aW9uLCBwYWdlLnVybCk7XG5cbiAgICBjb25zdCBwb3N0VmFsdWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gICAgY29uc3QgaW5wdXRzID0gZm9ybUVsZW1lbnRcbiAgICAgIC5maW5kKFwiaW5wdXRbbmFtZV06bm90KFt0eXBlPSdzdWJtaXQnXSlcIilcbiAgICAgIC50b0FycmF5KCk7XG4gICAgZm9yIChjb25zdCBpbnB1dCBvZiBpbnB1dHMpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSBwYWdlLiQoaW5wdXQpLmF0dHIoJ25hbWUnKTtcbiAgICAgIGlmIChuYW1lKSBwb3N0VmFsdWVzW25hbWVdID0gcGFnZS4kKGlucHV0KS52YWwoKTtcbiAgICB9XG4gICAgcG9zdFZhbHVlc1snZm9ybTpub21lJ10gPSB0ZWFjaGVyTmFtZTtcbiAgICBwb3N0VmFsdWVzWydmb3JtOmRlcGFydGFtZW50byddID0gY2FtcHVzVmFsdWU7XG4gICAgcG9zdFZhbHVlc1snZm9ybTpidXNjYXInXSA9ICdCdXNjYXInO1xuICAgIHJldHVybiB0aGlzLmh0dHBcbiAgICAgIC5wb3N0KHVybC5ocmVmLCBwb3N0VmFsdWVzKVxuICAgICAgLnRoZW4oKHBhZ2UpID0+IHRoaXMucGFyc2VTZWFyY2hSZXN1bHRzKHBhZ2UpKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgcGFyc2VTZWFyY2hSZXN1bHRzKHBhZ2U6IFBhZ2UpOiBQcm9taXNlPFRlYWNoZXJSZXN1bHRbXT4ge1xuICAgIGNvbnN0IHJvd0VsZW1lbnRzID0gcGFnZS4kKCd0YWJsZS5saXN0YWdlbSA+IHRib2R5ID4gdHJbY2xhc3NdJykudG9BcnJheSgpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJvd0VsZW1lbnQgb2Ygcm93RWxlbWVudHMpIHtcbiAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnBhcnNlci5yZW1vdmVUYWdzSHRtbChcbiAgICAgICAgcGFnZS4kKHJvd0VsZW1lbnQpLmZpbmQoJ3NwYW4ubm9tZScpLmh0bWwoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IGRlcGFydG1lbnQgPSB0aGlzLnBhcnNlci5yZW1vdmVUYWdzSHRtbChcbiAgICAgICAgcGFnZS4kKHJvd0VsZW1lbnQpLmZpbmQoJ3NwYW4uZGVwYXJ0YW1lbnRvJykuaHRtbCgpXG4gICAgICApO1xuICAgICAgY29uc3QgcGFnZUhSRUYgPSB0aGlzLnBhcnNlci5yZW1vdmVUYWdzSHRtbChcbiAgICAgICAgcGFnZS4kKHJvd0VsZW1lbnQpLmZpbmQoJ3NwYW4ucGFnaW5hID4gYScpLmF0dHIoJ2hyZWYnKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBob3RvSFJFRiA9IHRoaXMucGFyc2VyLnJlbW92ZVRhZ3NIdG1sKFxuICAgICAgICBwYWdlLiQocm93RWxlbWVudCkuZmluZCgnaW1nJykuYXR0cignc3JjJylcbiAgICAgICk7XG4gICAgICBjb25zdCBwYWdlVVJMID0gbmV3IFVSTChwYWdlSFJFRiwgcGFnZS51cmwpO1xuICAgICAgY29uc3QgcGhvdG9VUkwgPSBwaG90b0hSRUYuaW5jbHVkZXMoJ25vX3BpY3R1cmUucG5nJylcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiBuZXcgVVJMKHBob3RvSFJFRiwgcGFnZS51cmwpO1xuXG4gICAgICByZXN1bHRzLnB1c2goXG4gICAgICAgIG5ldyBTaWdhYVNlYXJjaFRlYWNoZXJSZXN1bHQodGhpcy5odHRwLCB0aGlzLnBhcnNlciwge1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgZGVwYXJ0bWVudCxcbiAgICAgICAgICBwYWdlVVJMLFxuICAgICAgICAgIHBob3RvVVJMXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxufVxuIl19