"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.AbstractUpdatableResource = void 0;

require("source-map-support/register");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * @category Internal
 */
class AbstractUpdatableResource {
  constructor(__instanceIndentifier, updater) {
    this.__instanceIndentifier = __instanceIndentifier;
    this.updater = updater;

    _defineProperty(this, "isClosed", false);
  }

  async updateInstance() {
    if (!this.updater) throw new Error('SIGAA: Resource updater not exists.');
    await this.updater();
  }

  checkIfItWasClosed() {
    if (this.isClosed) {
      throw new Error('SIGAA: This instance has already been closed.');
    }
  }

  get _instanceIndentifier() {
    return this.__instanceIndentifier;
  }

  close() {
    this.isClosed = false;
  }

}

exports.AbstractUpdatableResource = AbstractUpdatableResource;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXNvdXJjZXMvdXBkYXRhYmxlLXJlc291cmNlLnRzIl0sIm5hbWVzIjpbIkFic3RyYWN0VXBkYXRhYmxlUmVzb3VyY2UiLCJjb25zdHJ1Y3RvciIsIl9faW5zdGFuY2VJbmRlbnRpZmllciIsInVwZGF0ZXIiLCJ1cGRhdGVJbnN0YW5jZSIsIkVycm9yIiwiY2hlY2tJZkl0V2FzQ2xvc2VkIiwiaXNDbG9zZWQiLCJfaW5zdGFuY2VJbmRlbnRpZmllciIsImNsb3NlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQWNBO0FBQ0E7QUFDQTtBQUNPLE1BQWVBLHlCQUFmLENBQXlDO0FBRzlDQyxFQUFBQSxXQUFXLENBQ0NDLHFCQURELEVBRUNDLE9BRkQsRUFHVDtBQUFBLFNBRlVELHFCQUVWLEdBRlVBLHFCQUVWO0FBQUEsU0FEVUMsT0FDVixHQURVQSxPQUNWOztBQUFBLHNDQUxtQixLQUtuQjtBQUFFOztBQUUwQixRQUFkQyxjQUFjLEdBQWtCO0FBQzlDLFFBQUksQ0FBQyxLQUFLRCxPQUFWLEVBQW1CLE1BQU0sSUFBSUUsS0FBSixDQUFVLHFDQUFWLENBQU47QUFDbkIsVUFBTSxLQUFLRixPQUFMLEVBQU47QUFDRDs7QUFFU0csRUFBQUEsa0JBQWtCLEdBQVM7QUFDbkMsUUFBSSxLQUFLQyxRQUFULEVBQW1CO0FBQ2pCLFlBQU0sSUFBSUYsS0FBSixDQUFVLCtDQUFWLENBQU47QUFDRDtBQUNGOztBQUV1QixNQUFwQkcsb0JBQW9CLEdBQVc7QUFDakMsV0FBTyxLQUFLTixxQkFBWjtBQUNEOztBQUVETyxFQUFBQSxLQUFLLEdBQVM7QUFDWixTQUFLRixRQUFMLEdBQWdCLEtBQWhCO0FBQ0Q7O0FBekI2QyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGNhdGVnb3J5IEludGVybmFsXG4gKi9cbmV4cG9ydCB0eXBlIFVwZGF0YWJsZVJlc291cmNlQ2FsbGJhY2sgPSAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4vKipcbiAqIEBjYXRlZ29yeSBJbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0YWJsZVJlc291cmNlPFQ+IHtcbiAgdXBkYXRlKFQ6IFQpOiB2b2lkO1xuICByZWFkb25seSBfaW5zdGFuY2VJbmRlbnRpZmllcjogc3RyaW5nO1xuICBjbG9zZSgpOiB2b2lkO1xufVxuXG4vKipcbiAqIEBjYXRlZ29yeSBJbnRlcm5hbFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RVcGRhdGFibGVSZXNvdXJjZSB7XG4gIHByb3RlY3RlZCBpc0Nsb3NlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBfX2luc3RhbmNlSW5kZW50aWZpZXI6IHN0cmluZyxcbiAgICBwcm90ZWN0ZWQgdXBkYXRlcj86IFVwZGF0YWJsZVJlc291cmNlQ2FsbGJhY2tcbiAgKSB7fVxuXG4gIHByb3RlY3RlZCBhc3luYyB1cGRhdGVJbnN0YW5jZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMudXBkYXRlcikgdGhyb3cgbmV3IEVycm9yKCdTSUdBQTogUmVzb3VyY2UgdXBkYXRlciBub3QgZXhpc3RzLicpO1xuICAgIGF3YWl0IHRoaXMudXBkYXRlcigpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNoZWNrSWZJdFdhc0Nsb3NlZCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTSUdBQTogVGhpcyBpbnN0YW5jZSBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC4nKTtcbiAgICB9XG4gIH1cblxuICBnZXQgX2luc3RhbmNlSW5kZW50aWZpZXIoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fX2luc3RhbmNlSW5kZW50aWZpZXI7XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzQ2xvc2VkID0gZmFsc2U7XG4gIH1cbn1cbiJdfQ==