"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CommonSigaaPage = void 0;

require("source-map-support/register");

var _he = require("he");

var _cheerio = require("cheerio");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/**
 * Response page of sigaa.
 * @category Internal
 */
class CommonSigaaPage {
  constructor(options) {
    _defineProperty(this, "requestOptions", void 0);

    _defineProperty(this, "requestBody", void 0);

    _defineProperty(this, "statusCode", void 0);

    _defineProperty(this, "url", void 0);

    _defineProperty(this, "headers", void 0);

    _defineProperty(this, "body", void 0);

    _defineProperty(this, "modifiedAt", void 0);

    _defineProperty(this, "_$", void 0);

    _defineProperty(this, "_viewState", void 0);

    _defineProperty(this, "_bodyDecoded", void 0);

    this.requestOptions = options.requestOptions;
    this.requestBody = options.requestBody;
    this.body = options.body;
    this.url = options.url;
    this.headers = options.headers;
    this.statusCode = options.statusCode;
    this.modifiedAt = Date.now();
    this.checkPageStatusCodeAndExpired();
  }
  /**
   * @inheritdoc
   */


  /**
   * HTTP request method that originated page.
   **/
  get method() {
    return this.requestOptions.method;
  }
  /**
   * @inheritdoc
   */


  get bodyDecoded() {
    if (this._bodyDecoded) return this._bodyDecoded;
    this._bodyDecoded = (0, _he.decode)(this.body);
    return this._bodyDecoded;
  }

  get $() {
    if (this._$ === undefined) {
      this._$ = (0, _cheerio.load)(this.body, {
        normalizeWhitespace: true
      });
    }

    return this._$;
  }

  get requestHeaders() {
    return this.requestOptions.headers;
  }
  /**
   * Verify if session is expired
   */


  checkPageStatusCodeAndExpired() {
    var _this$headers$locatio;

    if (this.statusCode === 302 && (_this$headers$locatio = this.headers.location) !== null && _this$headers$locatio !== void 0 && _this$headers$locatio.includes('/sigaa/expirada.jsp')) throw new Error('SIGAA: Session expired.');
  }
  /**
   * Page viewstate
   */


  get viewState() {
    if (this._viewState === undefined) {
      const responseViewStateEl = this.$("input[name='javax.faces.ViewState']");

      if (responseViewStateEl) {
        this._viewState = responseViewStateEl.val();
      }
    }

    return this._viewState;
  }

}

exports.CommonSigaaPage = CommonSigaaPage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zZXNzaW9uL3NpZ2FhLXBhZ2UudHMiXSwibmFtZXMiOlsiQ29tbW9uU2lnYWFQYWdlIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwicmVxdWVzdE9wdGlvbnMiLCJyZXF1ZXN0Qm9keSIsImJvZHkiLCJ1cmwiLCJoZWFkZXJzIiwic3RhdHVzQ29kZSIsIm1vZGlmaWVkQXQiLCJEYXRlIiwibm93IiwiY2hlY2tQYWdlU3RhdHVzQ29kZUFuZEV4cGlyZWQiLCJtZXRob2QiLCJib2R5RGVjb2RlZCIsIl9ib2R5RGVjb2RlZCIsIiQiLCJfJCIsInVuZGVmaW5lZCIsIm5vcm1hbGl6ZVdoaXRlc3BhY2UiLCJyZXF1ZXN0SGVhZGVycyIsImxvY2F0aW9uIiwiaW5jbHVkZXMiLCJFcnJvciIsInZpZXdTdGF0ZSIsIl92aWV3U3RhdGUiLCJyZXNwb25zZVZpZXdTdGF0ZUVsIiwidmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTs7QUFHQTs7OztBQTRHQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLE1BQWVBLGVBQWYsQ0FBcUQ7QUFDMURDLEVBQUFBLFdBQVcsQ0FBQ0MsT0FBRCxFQUFnQztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUN6QyxTQUFLQyxjQUFMLEdBQXNCRCxPQUFPLENBQUNDLGNBQTlCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQkYsT0FBTyxDQUFDRSxXQUEzQjtBQUNBLFNBQUtDLElBQUwsR0FBWUgsT0FBTyxDQUFDRyxJQUFwQjtBQUNBLFNBQUtDLEdBQUwsR0FBV0osT0FBTyxDQUFDSSxHQUFuQjtBQUNBLFNBQUtDLE9BQUwsR0FBZUwsT0FBTyxDQUFDSyxPQUF2QjtBQUNBLFNBQUtDLFVBQUwsR0FBa0JOLE9BQU8sQ0FBQ00sVUFBMUI7QUFDQSxTQUFLQyxVQUFMLEdBQWtCQyxJQUFJLENBQUNDLEdBQUwsRUFBbEI7QUFFQSxTQUFLQyw2QkFBTDtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFnREU7QUFDRjtBQUNBO0FBQ21CLE1BQU5DLE1BQU0sR0FBZTtBQUM5QixXQUFPLEtBQUtWLGNBQUwsQ0FBb0JVLE1BQTNCO0FBQ0Q7QUFFRDtBQUNGO0FBQ0E7OztBQUN3QixNQUFYQyxXQUFXLEdBQVc7QUFDL0IsUUFBSSxLQUFLQyxZQUFULEVBQXVCLE9BQU8sS0FBS0EsWUFBWjtBQUN2QixTQUFLQSxZQUFMLEdBQW9CLGdCQUFtQixLQUFLVixJQUF4QixDQUFwQjtBQUNBLFdBQU8sS0FBS1UsWUFBWjtBQUNEOztBQUVXLE1BQURDLENBQUMsR0FBaUI7QUFDM0IsUUFBSSxLQUFLQyxFQUFMLEtBQVlDLFNBQWhCLEVBQTJCO0FBQ3pCLFdBQUtELEVBQUwsR0FBVSxtQkFBTSxLQUFLWixJQUFYLEVBQWlCO0FBQ3pCYyxRQUFBQSxtQkFBbUIsRUFBRTtBQURJLE9BQWpCLENBQVY7QUFHRDs7QUFDRCxXQUFPLEtBQUtGLEVBQVo7QUFDRDs7QUFFd0IsTUFBZEcsY0FBYyxHQUEyQjtBQUNsRCxXQUFPLEtBQUtqQixjQUFMLENBQW9CSSxPQUEzQjtBQUNEO0FBRUQ7QUFDRjtBQUNBOzs7QUFDVUssRUFBQUEsNkJBQTZCLEdBQUc7QUFBQTs7QUFDdEMsUUFDRSxLQUFLSixVQUFMLEtBQW9CLEdBQXBCLDZCQUNBLEtBQUtELE9BQUwsQ0FBYWMsUUFEYixrREFDQSxzQkFBdUJDLFFBQXZCLENBQWdDLHFCQUFoQyxDQUZGLEVBSUUsTUFBTSxJQUFJQyxLQUFKLENBQVUseUJBQVYsQ0FBTjtBQUNIO0FBRUQ7QUFDRjtBQUNBOzs7QUFDZSxNQUFUQyxTQUFTLEdBQXVCO0FBQ2xDLFFBQUksS0FBS0MsVUFBTCxLQUFvQlAsU0FBeEIsRUFBbUM7QUFDakMsWUFBTVEsbUJBQW1CLEdBQUcsS0FBS1YsQ0FBTCxDQUFPLHFDQUFQLENBQTVCOztBQUNBLFVBQUlVLG1CQUFKLEVBQXlCO0FBQ3ZCLGFBQUtELFVBQUwsR0FBa0JDLG1CQUFtQixDQUFDQyxHQUFwQixFQUFsQjtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxLQUFLRixVQUFaO0FBQ0Q7O0FBbEh5RCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuaW1wb3J0IHsgZGVjb2RlIGFzIGh0bWxFbnRpdGllc0RlY29kZSB9IGZyb20gJ2hlJztcbmltcG9ydCB7IFVSTCB9IGZyb20gJ3VybCc7XG5pbXBvcnQgKiBhcyBodHRwIGZyb20gJ2h0dHAnO1xuaW1wb3J0IHsgbG9hZCBhcyAkbG9hZCB9IGZyb20gJ2NoZWVyaW8nO1xuaW1wb3J0IHsgSFRUUE1ldGhvZCB9IGZyb20gJ3NyYy9zaWdhYS10eXBlcyc7XG5pbXBvcnQgeyBIVFRQUmVxdWVzdE9wdGlvbnMgfSBmcm9tICcuL3NpZ2FhLWh0dHAnO1xuaW1wb3J0IHsgSUZTQ1BhZ2UsIFNpZ2FhUGFnZUlGU0MgfSBmcm9tICcuL3BhZ2Uvc2lnYWEtcGFnZS1pZnNjJztcbmltcG9ydCB7IFNpZ2FhUGFnZVVGUEIsIFVGUEJQYWdlIH0gZnJvbSAnLi9wYWdlL3NpZ2FhLXBhZ2UtdWZwYic7XG5pbXBvcnQgeyBTaWdhYVBhZ2VVTkIsIFVOQlBhZ2UgfSBmcm9tICcuL3BhZ2Uvc2lnYWEtcGFnZS11bmInO1xuaW1wb3J0IHsgU2lnYWFQYWdlVUZGUywgVUZGU1BhZ2UgfSBmcm9tICcuL3BhZ2Uvc2lnYWEtcGFnZS11ZmZzJztcblxuLyoqXG4gKiBAY2F0ZWdvcnkgSW50ZXJuYWxcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTaWdhYVBhZ2VDb25zdHJ1Y3RvciB7XG4gIHJlcXVlc3RCb2R5Pzogc3RyaW5nIHwgQnVmZmVyO1xuICBib2R5OiBzdHJpbmc7XG4gIHJlcXVlc3RPcHRpb25zOiBIVFRQUmVxdWVzdE9wdGlvbnM7XG4gIHVybDogVVJMO1xuICBoZWFkZXJzOiBodHRwLkluY29taW5nSHR0cEhlYWRlcnM7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGh0bWwgZm9ybS5cbiAqIEBjYXRlZ29yeSBJbnRlcm5hbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNpZ2FhRm9ybSB7XG4gIC8qKlxuICAgKiBUaGUgVVJMIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gc3VibWl0IHRoaXMgZm9ybS5cbiAgICovXG4gIGFjdGlvbjogVVJMO1xuICAvKipcbiAgICogTGlzdCBvZiBmb3JtIGZpZWxkcy5cbiAgICovXG4gIHBvc3RWYWx1ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG59XG5cbi8qKlxuICogQGNhdGVnb3J5IEludGVybmFsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tbW9uUGFnZSB7XG4gIC8qKlxuICAgKiBAcGFyYW0gbWV0aG9kIFBhZ2UgSFRUUCByZXF1ZXN0IG1ldGhvZC4gZXg6IFBPU1QsIEdFVC5cbiAgICovXG4gIHJlYWRvbmx5IG1ldGhvZDogSFRUUE1ldGhvZDtcblxuICAvKipcbiAgICogQHBhcmFtIHN0YXR1c0NvZGUgSFRUUCBzdGF0dXMgY29kZSxcbiAgICovXG4gIHJlYWRvbmx5IHN0YXR1c0NvZGU6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHVybCBQYWdlIFVSTFxuICAgKi9cbiAgcmVhZG9ubHkgdXJsOiBVUkw7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSByZXF1ZXN0SGVhZGVycyBQYWdlIEhUVFAgcmVxdWVzdCBoZWFkZXJzLlxuICAgKi9cbiAgcmVhZG9ubHkgcmVxdWVzdEhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBoZWFkZXJzIFRoZSBwYWdlIEhUVFAgcmVzcG9uc2UgaGVhZGVycy5cbiAgICovXG4gIHJlYWRvbmx5IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdIHwgc3RyaW5nIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGJvZHkgUmVzcG9uc2UgcGFnZSBib2R5LlxuICAgKi9cbiAgcmVhZG9ubHkgYm9keTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gYm9keURlY29kZWQgUGFnZSBib2R5IHdpdGggSFRNTCBlbmNvZGVkIGNoYXJhY3RlcnMgcmVwbGFjZWQuXG4gICAqL1xuICByZWFkb25seSBib2R5RGVjb2RlZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gbW9kaWZpZWRBdCBUaW1lc3RhbXAgb2YgdGhlIGxhc3QgcmVxdWVzdCB1c2luZyB0aGUgcGFnZSdzIHZpZXdTdGF0ZVxuICAgKi9cbiAgbW9kaWZpZWRBdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gdmlld1N0YXRlIFBhZ2Ugdmlld1N0YXRlIGlzIHRoZSB2YWx1ZSBvZiB0aGUgZm9ybXMgJ2phdmF4LmZhY2VzLlZpZXdTdGF0ZScgZmllbGQuXG4gICAqL1xuXG4gIHJlYWRvbmx5IHZpZXdTdGF0ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIENoZWVyaW8gcGFnZS5cbiAgICovXG4gIHJlYWRvbmx5ICQ6IGNoZWVyaW8uUm9vdDtcblxuICAvKipcbiAgICogUGFnZSByZXF1ZXN0IGh0dHAgb3B0aW9ucy5cbiAgICpcbiAgICogVGhpcyBpcyB0aGUgb2JqZWN0IHRoYXQgd2FzIHBhc3NlZCB0byB0aGUgbm9kZSB0byBtYWtlIHRoZSByZXF1ZXN0LlxuICAgKi9cbiAgcmVhZG9ubHkgcmVxdWVzdE9wdGlvbnM6IEhUVFBSZXF1ZXN0T3B0aW9ucztcblxuICAvKipcbiAgICogT25seSBpZiByZXF1ZXN0IG1ldGhvZCBpcyBQT1NULlxuICAgKi9cbiAgcmVhZG9ubHkgcmVxdWVzdEJvZHk/OiBzdHJpbmcgfCBCdWZmZXI7XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2UgPSBDb21tb25QYWdlICYgKElGU0NQYWdlIHwgVUZQQlBhZ2UgfCBVTkJQYWdlIHwgVUZGU1BhZ2UpO1xuZXhwb3J0IHR5cGUgU2lnYWFQYWdlID0gQ29tbW9uU2lnYWFQYWdlICZcbiAgKFNpZ2FhUGFnZUlGU0MgfCBTaWdhYVBhZ2VVRlBCIHwgU2lnYWFQYWdlVU5CIHwgU2lnYWFQYWdlVUZGUyk7XG4vKipcbiAqIFJlc3BvbnNlIHBhZ2Ugb2Ygc2lnYWEuXG4gKiBAY2F0ZWdvcnkgSW50ZXJuYWxcbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbW1vblNpZ2FhUGFnZSBpbXBsZW1lbnRzIENvbW1vblBhZ2Uge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBTaWdhYVBhZ2VDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMucmVxdWVzdE9wdGlvbnMgPSBvcHRpb25zLnJlcXVlc3RPcHRpb25zO1xuICAgIHRoaXMucmVxdWVzdEJvZHkgPSBvcHRpb25zLnJlcXVlc3RCb2R5O1xuICAgIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB0aGlzLnVybCA9IG9wdGlvbnMudXJsO1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSBvcHRpb25zLnN0YXR1c0NvZGU7XG4gICAgdGhpcy5tb2RpZmllZEF0ID0gRGF0ZS5ub3coKTtcblxuICAgIHRoaXMuY2hlY2tQYWdlU3RhdHVzQ29kZUFuZEV4cGlyZWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW5oZXJpdGRvY1xuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHJlcXVlc3RPcHRpb25zOiBIVFRQUmVxdWVzdE9wdGlvbnM7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcmVxdWVzdEJvZHk/OiBzdHJpbmcgfCBCdWZmZXI7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgc3RhdHVzQ29kZTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdGRvY1xuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHVybDogVVJMO1xuXG4gIC8qKlxuICAgKiBAaW5oZXJpdGRvY1xuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdIHwgc3RyaW5nIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogQGluaGVyaXRkb2NcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBib2R5OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBwdWJsaWMgbW9kaWZpZWRBdDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGNoZWVyaW8gaW5zdGFuY2UuXG4gICAqL1xuICBwcml2YXRlIF8kPzogY2hlZXJpby5Sb290O1xuXG4gIC8qKlxuICAgKiBjdXJyZW50IHBhZ2UgdmlldyBzdGF0ZS5cbiAgICoqL1xuICBwcml2YXRlIF92aWV3U3RhdGU/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFBhZ2UgYm9keSB3aXRoIEhUTUwgZW5jb2RlZCBjaGFyYWN0ZXJzIHJlcGxhY2VkLlxuICAgKi9cbiAgcHJpdmF0ZSBfYm9keURlY29kZWQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEhUVFAgcmVxdWVzdCBtZXRob2QgdGhhdCBvcmlnaW5hdGVkIHBhZ2UuXG4gICAqKi9cbiAgcHVibGljIGdldCBtZXRob2QoKTogSFRUUE1ldGhvZCB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdE9wdGlvbnMubWV0aG9kO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbmhlcml0ZG9jXG4gICAqL1xuICBwdWJsaWMgZ2V0IGJvZHlEZWNvZGVkKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuX2JvZHlEZWNvZGVkKSByZXR1cm4gdGhpcy5fYm9keURlY29kZWQ7XG4gICAgdGhpcy5fYm9keURlY29kZWQgPSBodG1sRW50aXRpZXNEZWNvZGUodGhpcy5ib2R5KTtcbiAgICByZXR1cm4gdGhpcy5fYm9keURlY29kZWQ7XG4gIH1cblxuICBwdWJsaWMgZ2V0ICQoKTogY2hlZXJpby5Sb290IHtcbiAgICBpZiAodGhpcy5fJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLl8kID0gJGxvYWQodGhpcy5ib2R5LCB7XG4gICAgICAgIG5vcm1hbGl6ZVdoaXRlc3BhY2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fJDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgcmVxdWVzdEhlYWRlcnMoKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdE9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBWZXJpZnkgaWYgc2Vzc2lvbiBpcyBleHBpcmVkXG4gICAqL1xuICBwcml2YXRlIGNoZWNrUGFnZVN0YXR1c0NvZGVBbmRFeHBpcmVkKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdHVzQ29kZSA9PT0gMzAyICYmXG4gICAgICB0aGlzLmhlYWRlcnMubG9jYXRpb24/LmluY2x1ZGVzKCcvc2lnYWEvZXhwaXJhZGEuanNwJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJR0FBOiBTZXNzaW9uIGV4cGlyZWQuJyk7XG4gIH1cblxuICAvKipcbiAgICogUGFnZSB2aWV3c3RhdGVcbiAgICovXG4gIGdldCB2aWV3U3RhdGUoKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAodGhpcy5fdmlld1N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlVmlld1N0YXRlRWwgPSB0aGlzLiQoXCJpbnB1dFtuYW1lPSdqYXZheC5mYWNlcy5WaWV3U3RhdGUnXVwiKTtcbiAgICAgIGlmIChyZXNwb25zZVZpZXdTdGF0ZUVsKSB7XG4gICAgICAgIHRoaXMuX3ZpZXdTdGF0ZSA9IHJlc3BvbnNlVmlld1N0YXRlRWwudmFsKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl92aWV3U3RhdGU7XG4gIH1cbn1cbiJdfQ==